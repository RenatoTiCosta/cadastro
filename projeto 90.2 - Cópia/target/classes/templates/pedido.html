<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Sistema</title>
  <link rel="stylesheet" th:href="@{/bootstrap-5.1.3-dist/css/bootstrap.min.css}">
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</head>
<body>
<div th:insert="~{fragments/publica-nav :: nav}"></div>
<!-- Add fragmento nav -->
<div class="mx-auto p-2" style="width: 500px">
  <h1>Fazer Pedido</h1>

  <div class="row">
    <div class="shadow p-3 mb-5 bg-body-tertiary rounded">
      <form th:action="@{/pdf/gerar}" method="post" th:object="${atendimentoEntity}" enctype="multipart/form-data">

        <h5>Dados Pessoais</h5>

        <input type="hidden" name="id" th:value="${atendimentoEntity.id}">

        <div class="col">
          <input type="text" class="form-control" placeholder="Código do cliente" aria-label="id" th:field="*{id}">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Nome" aria-label="nome" th:field="*{nome}">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Email" aria-label="email" th:field="*{email}">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Telefone" aria-label="telefone" th:field="*{telefone}">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Endereço" aria-label="endereco" th:field="*{endereco}">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="CPF" aria-label="cpf" th:field="*{cpf}">
        </div>
        <h5>Dados do Exame</h5>
        <div class="col">
          <input type="text" class="form-control" placeholder="Longe / Perto / Multifocal" aria-label="tipo" th:field="*{tipo}">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Grau Olho Direito" aria-label="oD" th:field="*{olho_Direito}">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Grau Olho Esquerdo" aria-label="oE" th:field="*{olho_Esquerdo}">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Olho Direito - DP/DNP - Altura:" aria-label="dPOd" th:field="*{dp_Olho_Direito}">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Olho Esquerdo - DP/DNP - Altura:" aria-label="dPOe" th:field="*{dP_Olho_Esquerdo}">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="+ Adição" aria-label="adicao" th:field="*{adicao}">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Poli/Resina/Ar/Blue/Foto" aria-label="lentes" th:field="*{lentes}">
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="Data do exame" aria-label="exame" th:field="*{exame}">
        </div><h5>Pagamento</h5>
        <div class="col">
          <input type="text" class="form-control" placeholder="valor" aria-label="valor" th:field="*{valor}">
        </div>
        <div>
          <label class="salvar" for="data">Data:</label>
          <input type="date" id="data" name="data" th:field="*{data}"><br>
        </div>
        <div class="col">
         <input type="file" class="form-control" accept="image/*" capture="camera" th:field="*{foto}">
       </div>
       <div>
         <button method="get" class="btn btn-primary" type="submit" formaction="/pedido/orcamento">Fazer Orçamento</button>
         <button class="btn btn-primary" type="button" onclick="window.location.href='/pdfFile'">Gerar PDF</button>
         <!-- <input class="btn btn-primary" type="button" value="Fazer PDF" onclick="gerarPDF()"> -->
        </div>
      </form>
    </div>
  </div>
</div>
<!--<script>
  function gerarPDF() {
    // Pegar o valor do campo 'id'
    const id = document.querySelector('input[name="id"]').value;

    // Redirecionar para a URL correta incluindo o parâmetro 'id'
    window.location.href = `pedido?id=${id}`;
}
</script>
-->
</body>
</html>
